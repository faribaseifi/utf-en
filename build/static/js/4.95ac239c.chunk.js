(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{141:function(e,a,t){"use strict";t.r(a),t.d(a,"Login",function(){return u});var m=t(6),n=t(7),r=t(9),s=t(8),l=t(10),i=t(0),o=t.n(i),c=t(177),d=t(12),p=t(59),b=t.n(p),u=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(t=Object(r.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(l)))).state={fields:{member_name:"",member_family:"",member_mobile:"",member_national_code:"",member_pass1:"",member_pass2:""},username:"",password:"",loading:!1,redirectToReferer:!1,errors:{}},t.onUsernameChange=function(e){t.setState({username:e.target.value})},t.onPasswordChange=function(e){t.setState({password:e.target.value})},t.handleSubmitLogin=function(e){t.setState({loading:!0}),e.preventDefault(),t.setState({username:"",password:""}),fetch("https://www.kanoonbook.ir/index.php/app/login",{method:"POST",body:JSON.stringify({user:t.state.username,pass:t.state.password})}).then(function(e){return e.json()}).then(function(e){t.context.setToken(e.token),t.setState({redirectToReferer:!0})}).catch(function(e){return console.error(e)}).finally(function(){t.setState({loading:!1})})},t.handleSubmitRegister=function(e){e.preventDefault(),t.handleValidation(function(e){e?console.log("okye"):console.log("ok nis")})},t}return Object(l.a)(a,e),Object(n.a)(a,[{key:"handleValidation",value:function(e){var a=this.state.fields,t={},m=!0;b.a.isEmpty(a.member_name)?(m=!1,t.member_name="plaese enter your name"):b.a.isLength(a.member_name,{min:3,max:void 0})||(m=!1,t.member_name="length of name at least 3 character "),b.a.isEmpty(a.member_family)?(m=!1,t.member_family="plaese enter your family"):b.a.isLength(a.member_family,{min:3,max:void 0})||(m=!1,t.member_family="length of family at least 3 character "),b.a.isEmpty(a.member_mobile)&&(m=!1,t.member_mobile="plaese enter your mobile"),b.a.isEmpty(a.member_national_code)?(m=!1,t.member_national_code="plaese enter your national code"):b.a.isLength(a.member_national_code,{min:10,max:10})||(m=!1,t.member_national_code="length of national code at least  character "),b.a.equals(a.member_pass2,a.member_pass1)||(m=!1,t.member_pass2="not same pass"),this.setState({errors:t},function(){return e(m)})}},{key:"handleChange",value:function(e){var a=this.state.fields,t=e.target;a[t.name]=t.value,this.setState({fields:a})}},{key:"render",value:function(){var e=this.props.location.state&&this.props.location.state.from||{pathname:"/"};if(this.state.redirectToReferer)return o.a.createElement(c.a,{to:e});var a=this.state.errors;return o.a.createElement("div",{id:"wrapper"},o.a.createElement("div",{className:"clearfix"}),o.a.createElement("div",{id:"titlebar"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("h2",null,"Log In & Register"),o.a.createElement("nav",{id:"breadcrumbs"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"#"},"Home")),o.a.createElement("li",null,"Log In & Register"))))))),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"my-account style-1 margin-top-5 margin-bottom-40"},o.a.createElement("h3",null,"Login :"),o.a.createElement("form",{onSubmit:this.handleSubmitLogin,className:"login"},o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"username"},"Username:",o.a.createElement("i",{className:"im im-icon-Male"}),o.a.createElement("input",{type:"text",className:"input-text",name:"username",id:"username",value:this.state.username,onChange:this.onUsernameChange}))),o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"password"},"Password:",o.a.createElement("i",{className:"im im-icon-Lock-2"}),o.a.createElement("input",{className:"input-text",type:"password",name:"password",id:"password",value:this.state.password,onChange:this.onPasswordChange}))),o.a.createElement("p",{className:"form-row"},o.a.createElement("input",{type:"submit",className:"button border margin-top-10",name:"login",value:"Login"}),o.a.createElement("label",{for:"rememberme",className:"rememberme"},o.a.createElement("input",{name:"rememberme",type:"checkbox",id:"rememberme",value:"forever"})," ","Remember Me")),o.a.createElement("p",{className:"lost_password"},o.a.createElement("a",{href:"#"},"Lost Your Password?"))))),o.a.createElement("div",{className:"col-md-6"},o.a.createElement("h3",null,"Register :"),o.a.createElement("div",{className:"my-account style-1 margin-top-5 margin-bottom-40"},o.a.createElement("form",{onSubmit:this.handleSubmitRegister,className:"register"},o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"username2"},"Name:  ",o.a.createElement("span",{className:"inValid-feedback",style:{display:a.member_name?"block":"none",border:a.member_name?"solid 1px red":""}},a.member_name),o.a.createElement("i",{className:"im im-icon-Male"}),o.a.createElement("input",{type:"text",onChange:this.handleChange.bind(this),className:["input-text",a.member_name?"is-invalid":""].join(" "),name:"member_name"}))),o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"username2"},"Family: ",o.a.createElement("span",{className:"inValid-feedback",style:{display:a.member_family?"block":"none",border:a.member_family?"solid 1px red":""}},a.member_family),o.a.createElement("i",{className:"im im-icon-Male"}),o.a.createElement("input",{type:"text",onChange:this.handleChange.bind(this),className:"input-text",name:"member_family"}))),o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"username2"},"National Code:  ",o.a.createElement("span",{className:"inValid-feedback",style:{display:a.member_national_code?"block":"none",border:a.member_national_code?"solid 1px red":""}},a.member_national_code),o.a.createElement("i",{className:"im im-icon-Male"}),o.a.createElement("input",{type:"text",onChange:this.handleChange.bind(this),className:"input-text",name:"member_national_code"}))),o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"email2"},"Mobile: ",o.a.createElement("span",{className:"inValid-feedback",style:{display:a.member_mobile?"block":"none",border:a.member_mobile?"solid 1px red":""}},a.member_mobile),o.a.createElement("i",{className:"im im-icon-Mail"}),o.a.createElement("input",{type:"text",onChange:this.handleChange.bind(this),className:"input-text",name:"member_mobile"}))),o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"password1"},"Password: ",o.a.createElement("span",{className:"inValid-feedback",style:{display:a.member_pass1?"block":"none",border:a.member_pass1?"solid 1px red":""}},a.member_pass1),o.a.createElement("i",{className:"im im-icon-Lock-2"}),o.a.createElement("input",{className:"input-text",onChange:this.handleChange.bind(this),type:"password",name:"member_pass1"}))),o.a.createElement("p",{className:"form-row form-row-wide"},o.a.createElement("label",{for:"password2"},"Repeat Password: ",o.a.createElement("span",{className:"inValid-feedback",style:{display:a.member_pass2?"block":"none",border:a.member_pass2?"solid 1px red":""}},a.member_pass2),o.a.createElement("i",{className:"im im-icon-Lock-2"}),o.a.createElement("input",{className:"input-text",onChange:this.handleChange.bind(this),type:"password",name:"member_pass2"}))),o.a.createElement("p",{className:"form-row"},o.a.createElement("input",{type:"submit",className:"button border fw margin-top-10",name:"register",value:"Register"}))))))),o.a.createElement("div",{className:"margin-top-55"}),o.a.createElement("div",{id:"backtotop"},o.a.createElement("a",{href:"#"})))}}]),a}(i.Component);u.contextType=d.a,a.default=u}}]);
//# sourceMappingURL=4.95ac239c.chunk.js.map